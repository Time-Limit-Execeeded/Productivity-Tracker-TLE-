<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Productivity Hub</title>
  <link rel="stylesheet" href="lpgstyle.css">
</head>
<body>

    <video autoplay muted loop id="bg-video">
    <source src="jelly compressed.mp4" type="video/mp4">
    Your browser does not support HTML5 video.
  </video>
  <div class="container">
    <h1 class="wel">Welcome to Flowfy</h1>
    <br>
    <br>
    <div class="options">
      <a href="pomodoro.html" target="_blank" class="card">Pomodoro Timer</a>
      <a href="Tracker.html" target="_blank" class="card">Habit Tracker</a>
      <a href="checklist.html" target="_blank" class="card">Checklist</a>
    </div>
  </div>

    const loginBtn = document.getElementById("loginBtn");
    const signupBtn = document.getElementById("signupBtn");
    const loginForm = document.getElementById("loginForm");
    const signupForm = document.getElementById("signupForm");

    loginBtn.addEventListener("click", () => {
      loginBtn.classList.add("active");
      signupBtn.classList.remove("active");
      loginForm.classList.add("active");
      signupForm.classList.remove("active");
    });

    signupBtn.addEventListener("click", () => {
      signupBtn.classList.add("active");
      loginBtn.classList.remove("active");
      signupForm.classList.add("active");
      loginForm.classList.remove("active");
    });
  </script>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
  import { 
    getAuth, 
    createUserWithEmailAndPassword, 
    signInWithEmailAndPassword, 
    updateProfile 
  } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";

  const firebaseConfig = {
  apiKey: "AIzaSyCvLtoG2Mw__VaKf7riJ27qZ9ynDMTD7Pw",
  authDomain: "productivity-hub-backend.firebaseapp.com",
  projectId: "productivity-hub-backend",
  storageBucket: "productivity-hub-backend.firebasestorage.app",
  messagingSenderId: "599841805629",
  appId: "1:599841805629:web:f0df811dd7820a0292e154",
  measurementId: "G-SK8E22S8P5"
};

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  signupForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = signupForm.querySelector('input[placeholder="Email"]').value;
    const password = signupForm.querySelector('input[placeholder="Password"]').value;
    const name = signupForm.querySelector('input[placeholder="Name"]').value;

    try {
      const userCredential = await createUserWithEmailAndPassword(auth, email, password);
      await updateProfile(userCredential.user, { displayName: name });
      alert("Signup successful ðŸŽ‰ Now login with your account.");
      signupForm.reset();
    } catch (error) {
      alert(error.message);
    }
  });

  loginForm.addEventListener("submit", async (e) => {
    e.preventDefault();
    const email = loginForm.querySelector('input[placeholder="Email"]').value;
    const password = loginForm.querySelector('input[placeholder="Password"]').value;

    try {
      const userCredential = await signInWithEmailAndPassword(auth, email, password);
      const user = userCredential.user;
      alert(`Welcome back, ${user.displayName || "User"}!`);
      
      window.location.href = "landing.html";
    } catch (error) {
      alert(error.message);
    }
  });
</script>


</body>
</html>
