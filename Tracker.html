<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tracker - Student Productivity Center</title>
  <link rel="stylesheet" href="Tracker.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- Background video -->
  <video autoplay muted loop playsinline preload="auto" id="bg-video">
    <source src="jellyfish.mp4" type="video/mp4" />
    Your browser does not support HTML5 video.
  </video>
  <div class="overlay"></div>

  <main class="tracker-page">
    <section id="tracker" class="card">
      <!-- Tracker Header -->
      <h1 class="tracker-title">Tracker</h1>

      <!-- Stats Row -->
      <div class="stats-row">
        <p><strong>Best Streak:</strong> <span id="bestStreak">0</span> hours</p>
        <p><strong>Total Focused Minutes:</strong> <span id="totalMinutes">0</span></p>
        <p><strong>Total Tasks Done:</strong> <span id="totalTasks">0</span></p>
      </div>
      
      <!-- Progress Bar Section -->
      <div class="progress-section">
        <label for="progressBar"><strong>Today's Progress (Focused Minutes / 960 min):</strong></label><br>
        <progress id="progressBar" value="0" max="100"></progress>
        <div class="progress-info">
          <small>Shows percentage of day spent in focused work</small>
        </div>
      </div>
      
      <!-- Goal Setting Section -->
      <div class="goal-section card">
        <label for="dailyGoal"><strong>Set Study Goal (min):</strong></label><br>
        <input type="number" id="dailyGoal" min="1" placeholder="Enter minutes"><br>
        <button onclick="setGoal()">Set Goal</button>
      </div>

      <!-- Notes Section -->
      <div class="notes-section card">
        <label for="quickNotes"><strong>Quick Notes</strong></label><br>
        <textarea id="quickNotes" rows="3" placeholder="Write your notes here..."></textarea><br>
        <button onclick="saveNotes()">Save</button>
      </div>

      <!-- Completed Tasks Bar Chart Section -->
      <div class="chart-section card">
        <h3 class="chart-title">Completed Tasks Analysis</h3>
        <div class="chart-container">
          <canvas id="taskChart" width="800" height="400" aria-label="Completed tasks duration chart"></canvas>
        </div>
        <div class="chart-info">
          <p class="chart-description">This chart shows the duration of your completed tasks. It updates automatically when you complete new tasks.</p>
        </div>
      </div>

      <!-- Stats Pie Chart Section -->
      <div class="chart-section card">
        <h3 class="chart-title">Productivity Statistics</h3>
        <div class="chart-container">
          <canvas id="statsPieChart" width="400" height="400" aria-label="Productivity statistics pie chart"></canvas>
        </div>
        <div class="chart-info">
          <p class="chart-description">This pie chart shows your 24-hour daily breakdown: focused work time, 6-hour sleep, and other activities.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- Spotify Panel
  <div class="spotify-panel">
    <h3 class="amb">Ambient Music</h3>
    <div class="spotify-tracks">
      <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/62mFjcWGkt2OY9LT9EvxS2?utm_source=generator" width="100%" height="152" frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
      <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/04boE4u1AupbrGlI62WvoO?utm_source=generator" width="100%" height="152" frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
      <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/6b5mdCKyPveuHjUMaCcxPt?utm_source=generator" width="100%" height="152" frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
      <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/2Umf3B7gYhkocbveXW35Ui?utm_source=generator" width="100%" height="152" frameBorder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe>
    </div>
  </div> -->

  <video autoplay muted loop playsinline preload="auto" id="bg-video">
    <source src="Fishes.mp4" type="video/mp4" />
    Your browser does not support HTML5 video.
  </video>

  <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="Tracker.js"></script>
  <script>
    // Ensure chart initializes after everything loads
    window.addEventListener('load', function() {
      console.log('Window loaded, ensuring chart initialization...');
      if (typeof initializeTracker === 'function') {
        initializeTracker();
      } else {
        console.log('initializeTracker function not found, trying direct initialization...');
        setTimeout(() => {
          if (typeof initializeTracker === 'function') {
            initializeTracker();
          }
        }, 500);
      }
    });
  </script> -->
</body>
</html>
